import { jsxs as _jsxs, jsx as _jsx } from "react/jsx-runtime";
import * as React from "react";
import { noop } from "@flyde/core";
import { BaseNodeView } from "../base-node-view";
import classNames from "classnames";
import { usePrompt } from "../../flow-editor/ports";
import { getInputName, getOutputName } from "../pin-view/helpers";
import { useDarkMode } from "../../flow-editor/DarkModeContext";
import { PinView } from "../pin-view/PinView";
import { getMainPinDomId } from "../dom-ids";
import { ContextMenuContent, ContextMenuItem, ContextMenuSeparator, } from "../../ui";
export const NodeIoView = React.memo(function NodeIoViewInner(props) {
    const { viewPort, selected, type, id, onDblClick, onRename, onDelete, onChangeInputMode, inputMode, onSelect, closest, onSetDescription, description, onMouseUp, onMouseDown, currentInsId, onDragStart, onDragEnd, pos, } = props;
    const lastDragEndTimeRef = React.useRef(0);
    const _onDragStart = React.useCallback((event, data) => {
        onDragStart(id, event, data);
    }, [id, onDragStart]);
    const _onDragEnd = React.useCallback((event, data) => {
        const currPos = pos;
        const dx = (data.x - currPos.x) / viewPort.zoom;
        const dy = (data.y - currPos.y) / viewPort.zoom;
        const newX = currPos.x + dx;
        const newY = currPos.y + dy;
        const pixelsMoved = Math.abs(dx) + Math.abs(dy);
        onDragEnd(type, id, event, { ...data, x: newX, y: newY });
        if (pixelsMoved > 0) {
            lastDragEndTimeRef.current = Date.now();
        }
    }, [pos, viewPort.zoom, onDragEnd, type, id]);
    const onDragMove = (event, data) => {
        props.onDragMove(type, id, event, { x: data.x, y: data.y });
    };
    const _prompt = usePrompt();
    const _onSetDescription = React.useCallback(async () => {
        const newDescription = await _prompt("Description?", description);
        onSetDescription(type, id, newDescription !== null && newDescription !== void 0 ? newDescription : "");
    }, [_prompt, description, onSetDescription, type, id]);
    const onDeleteInner = React.useCallback(() => {
        if (onDelete) {
            onDelete(type, id);
        }
    }, [type, id, onDelete]);
    const onRenameInner = React.useCallback(() => {
        if (onRename) {
            onRename(type, id);
        }
    }, [type, id, onRename]);
    const onChangeInputModeInner = React.useCallback((mode) => {
        if (onChangeInputMode) {
            onChangeInputMode(id, mode);
        }
    }, [id, onChangeInputMode]);
    const contextMenuItems = React.useCallback(() => {
        return [
            _jsxs(ContextMenuItem, { disabled: true, children: ["Current mode - ", inputMode] }, "mode"),
            _jsx(ContextMenuSeparator, {}, "sep1"),
            _jsx(ContextMenuItem, { onClick: () => onChangeInputModeInner("required"), children: "Make required" }, "required"),
            _jsx(ContextMenuItem, { onClick: () => onChangeInputModeInner("optional"), children: "Make optional" }, "optional"),
            _jsx(ContextMenuItem, { onClick: () => onChangeInputModeInner("required-if-connected"), children: "Make required-if-connected" }, "required-if-connected"),
            _jsx(ContextMenuSeparator, {}, "sep2"),
            _jsx(ContextMenuItem, { onClick: _onSetDescription, children: "Set description" }, "description"),
            ...(props.onRename
                ? [
                    _jsx(ContextMenuItem, { onClick: onRenameInner, children: "Rename" }, "rename"),
                ]
                : []),
            ...(props.onDelete
                ? [
                    _jsx(ContextMenuItem, { className: "text-red-500", onClick: onDeleteInner, children: "Delete" }, "delete"),
                ]
                : []),
        ];
    }, [
        _onSetDescription,
        inputMode,
        onChangeInputModeInner,
        onDeleteInner,
        onRenameInner,
        props.onDelete,
        props.onRename,
    ]);
    const getContextMenu = React.useCallback(() => {
        return _jsx(ContextMenuContent, { children: contextMenuItems() });
    }, [contextMenuItems]);
    const onDblClickInner = React.useCallback((e) => {
        if (onDblClick) {
            onDblClick(props.id, e);
        }
    }, [onDblClick, props.id]);
    const _onClick = React.useCallback((e) => {
        if (Date.now() - lastDragEndTimeRef.current > 200) {
            onSelect(id, type, e);
        }
    }, [id, type, onSelect]);
    const displayName = type === "input" ? getInputName(id) : getOutputName(id);
    const _onMouseUp = React.useCallback((e) => {
        const reversedType = type === "input" ? "output" : "input";
        onMouseUp(id, reversedType, e);
    }, [id, onMouseUp, type]);
    const _onMouseDown = React.useCallback((e) => {
        const reversedType = type === "input" ? "output" : "input";
        onMouseDown(id, reversedType, e);
    }, [id, onMouseDown, type]);
    const dark = useDarkMode();
    const pinContent = (_jsx("div", { className: classNames("pin-container", type), children: type === "input" ? (_jsx(PinView, { type: "output", currentInsId: currentInsId, ancestorsInsIds: props.ancestorInsIds, id: id, connected: props.connected, isClosestToMouse: closest, selected: selected, onClick: (pinId, pinType, e) => onSelect(pinId, pinType, e), onDoubleClick: (pinId, e) => onDblClick && onDblClick(pinId, e), onToggleLogged: noop, onToggleBreakpoint: noop, onInspect: noop, description: description, increasedDropArea: props.increasedDropArea, onMouseUp: (pinId, pinType, e) => {
                e.stopPropagation();
                _onMouseUp(e);
            }, onMouseDown: (pinId, pinType, e) => {
                e.stopPropagation();
                _onMouseDown(e);
            }, isMain: true })) : (_jsx(PinView, { type: "input", currentInsId: currentInsId, ancestorsInsIds: props.ancestorInsIds, id: id, connected: props.connected, isClosestToMouse: closest, selected: selected, onClick: (pinId, pinType) => onSelect(pinId, pinType), onDoubleClick: (pinId, e) => onDblClick && onDblClick(pinId, e), onToggleLogged: noop, onToggleBreakpoint: noop, onInspect: noop, description: description, increasedDropArea: props.increasedDropArea, onMouseUp: (pinId, pinType, e) => {
                e.stopPropagation();
                _onMouseUp(e);
            }, onMouseDown: (pinId, pinType, e) => {
                e.stopPropagation();
                _onMouseDown(e);
            }, onToggleSticky: noop, isSticky: false, queuedValues: 0, isMain: true })) }));
    const domId = getMainPinDomId(currentInsId, id, type);
    return (_jsx(BaseNodeView, { className: classNames(`node-io-view`, type, { dark }), pos: pos, icon: "arrow-right-long", description: description !== null && description !== void 0 ? description : `Main ${type} pin - ${id}`, onDragEnd: _onDragEnd, onDragStart: _onDragStart, onDragMove: onDragMove, viewPort: viewPort, heading: displayName, leftSide: type === "output" ? pinContent : undefined, rightSide: type === "input" ? pinContent : undefined, contextMenuContent: getContextMenu(), onClick: _onClick, onDoubleClick: onDblClickInner, selected: selected, dark: dark, domId: domId }));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTm9kZUlvVmlldy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy92aXN1YWwtbm9kZS1lZGl0b3Ivbm9kZS1pby12aWV3L05vZGVJb1ZpZXcudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMvQixPQUFPLEVBQWEsSUFBSSxFQUFnQixNQUFNLGFBQWEsQ0FBQztBQUM1RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDakQsT0FBTyxVQUFVLE1BQU0sWUFBWSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUNoRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDOUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUU3QyxPQUFPLEVBQ0wsa0JBQWtCLEVBQ2xCLGVBQWUsRUFDZixvQkFBb0IsR0FDckIsTUFBTSxVQUFVLENBQUM7QUFpQ2xCLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBOEIsS0FBSyxDQUFDLElBQUksQ0FDN0QsU0FBUyxlQUFlLENBQUMsS0FBSztJQUM1QixNQUFNLEVBQ0osUUFBUSxFQUNSLFFBQVEsRUFDUixJQUFJLEVBQ0osRUFBRSxFQUNGLFVBQVUsRUFDVixRQUFRLEVBQ1IsUUFBUSxFQUNSLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsUUFBUSxFQUNSLE9BQU8sRUFDUCxnQkFBZ0IsRUFDaEIsV0FBVyxFQUNYLFNBQVMsRUFDVCxXQUFXLEVBQ1gsWUFBWSxFQUNaLFdBQVcsRUFDWCxTQUFTLEVBQ1QsR0FBRyxHQUNKLEdBQUcsS0FBSyxDQUFDO0lBRVYs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